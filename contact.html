<!DOCTYPE html>
<!--[if lt IE 7]><html class="no-js lt-ie9 lt-ie8 lt-ie7"><![endif]-->
<!--[if IE 7]><html class="no-js lt-ie9 lt-ie8"><![endif]-->
<!--[if IE 8]><html class="no-js lt-ie9"><![endif]-->
<!--[if gt IE 8]><!--><html class="no-js"><!--<![endif]-->

<head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <link rel="icon" href="assets/images/logos/favicon-yjsg.ico" type="image/x-icon">
    <title>YJSG: Contact</title>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css">
    <link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css" rel="stylesheet" crossorigin="anonymous">
    <link href="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.3.7/css/bootstrap.min.css" rel="stylesheet">
    <link rel="stylesheet" href="css/demo.css">
</head>
<body>
<div class="loading">
    <div class="loading-image"><img src="assets/images/loader/yjsg-loader.gif" alt="loader" /></div>
</div>

<section>
    <div id="headerContent"></div>
</section>

<section id="contact">
    <div class="headbg contact-bgimage">
        <div class="contactus-container">
            <div class="col-md-12">
                <form class="form-horizontal padding-50-25 xxs-padding-20-10" method="post" id="contact_form">
                    <h1>CONTACT US</h1>
                    <!-- Text input-->
                    <div class="row">
                        <div class="col-sm-12 col-xs-12">
                            <div class="full-name-box">
                                <input class="form-control contactForm-input" placeholder="Full Name*" name="full_name" id="full_name" maxlength="60" required="required">
                                <div class="pull-right mar-top-10 mar-bot-15 padding-right-15 error">
                                    <span>Name should be of minimum 3 letter</span>
                                </div>
                            </div>
                        </div>
                        <div class="col-sm-6 col-xs-12">
                            <div class="phone-box">
                                <input class="form-control contactForm-input" placeholder="Phone Number*" name="phone" id="phone" maxlength="10" required="required">
                                <div class="pull-right mar-top-10 mar-bot-15 padding-right-15 error">
                                    <span>Phone No. should be of 10 digits</span>
                                </div>
                            </div>
                        </div>
                        <div class="col-sm-6 col-xs-12">
                            <div class="email-box">
                                <input class="form-control contactForm-input" placeholder="Email*" name="email" id="email" maxlength="60" required="required">
                                <div class="pull-right mar-top-10 mar-bot-15 padding-right-15 error">
                                    <span>Email format should be like <span class="font-bold">test@test.com</span></span>
                                </div>
                            </div>
                        </div>
                        <div class="col-sm-12 col-xs-12">
                            <div class="cover-letter-box">
                                <input class="form-control contactForm-input" placeholder="Message" name="comment" id="comment" maxlength="1000" required="required">
                            </div>
                        </div>
                    </div>
                    <div class="row">
                        <div class="form-group mar-top-15 captcha-box">
                            <label class="col-md-12 mar-bot-15 font-size-14 captcha-label text-center">Please complete the security check <span class="primary-color font-size-20">*</span></label>
                            <div class="col-md-12 col-sm-8 col-xxs-12 inputGroupContainer">
                                <div class="row">
                                    <div class="col-md-4 col-sm-6 col-xxs-12 text-right font-size-40 xxs-align-center xxs-margin-bot-15">
                                        <div class="captcha-label Fascinate-font-family" id="txtCaptchaDiv">
                                            <span></span>
                                        </div>
                                    </div>
                                    <div class="col-md-4 col-sm-6 col-xxs-12">
                                        <input type="hidden" id="txtCaptcha">
                                        <div>
                                            <input type="text" class="form-control" name="txtInput" id="txt_captcha_input" required>
                                        </div>
                                    </div>
                                </div>
                            </div>
                            <div class="text-center mar-top-10 error"><span>Please fill correct captcha </span></div>
                        </div>
                        <div>
                            <div class="col-md-12 text-center">
                                <button type="submit" id="submit" class="openDetails btn-send">SUBMIT</button>
                            </div>
                        </div>
                    </div>
                </form>
            </div>
        </div>
    </div>
</section>

<script src="https://code.jquery.com/jquery-2.2.4.js" integrity="sha256-iT6Q9iMJYuQiMWNd9lDyBUStIq/8PuOW33aOqmvFpqI=" crossorigin="anonymous"></script>


<section>
    <div id="footerContent"></div>
</section>

<script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/js/bootstrap.min.js"></script>
<script type="text/javascript" src="https://cdn.emailjs.com/dist/email.min.js"></script>
<script type="text/javascript">
    var a = Math.ceil(Math.random() * 9) + " ";
    var b = Math.ceil(Math.random() * 9) + " ";
    var c = Math.ceil(Math.random() * 9) + " ";
    var d = Math.ceil(Math.random() * 9) + " ";
    var e = Math.ceil(Math.random() * 9) + " ";

    var code = a + b + c + d + e;
    RemovedSpaceCode = code.replace(/\s/g, '');
    $("#txtCaptchaDiv > span").html(code);
    $("input#txtCaptcha").val(RemovedSpaceCode);

    var validForm = false;
    var validCaptcha = false;
    $('#contact_form').keyup(function() {
        verifyForm();
        captch_call();
        sendForm();
    });
    function verifyForm (){
        var full_name = document.getElementById("full_name");
        var phone = document.getElementById("phone");
        var email = document.getElementById("email");
        var comment = document.getElementById("comment");
        $('#full_name').keyup(function() {
            if (!(full_name.value.length >= 3)) {
                $(".full-name-box .error").addClass("redColor");
            } else {
                $(".full-name-box .error").removeClass("redColor");
            }
        });
        $('#phone').keyup(function() {
            if (!(phone.value.match(/^\d{10}$/))) {
                $(".phone-box .error").addClass("redColor");
            } else {
                $(".phone-box .error").removeClass("redColor");
            }
        });
        $('#email').keyup(function() {
            if (!(email.value.match(/^\w+([\.-]?\w+)*@\w+([\.-]?\w+)*(\.\w{2,3})+$/))) {
                $(".email-box .error").addClass("redColor");
            } else {
                $(".email-box .error").removeClass("redColor");
            }
        });

        if(full_name.value.length >= 3 && phone.value.match(/^\d{10}$/) && email.value.match(/^\w+([\.-]?\w+)*@\w+([\.-]?\w+)*(\.\w{2,3})+$/)) {
            validForm = true;
            $('#submit').prop('disabled',false);
        } else {
            validForm = false;
            $('#submit').prop('disabled',true);
        }
    }
    function captch_call () {
        $('#txt_captcha_input').keyup(function() {
            var captchaVal = $('#txtCaptcha').val();
            if(this.value === captchaVal){
                $(".captcha-box .error").removeClass("redColor");
                validCaptcha = true;
                $('#submit').prop('disabled',false);
            }else{
                $(".captcha-box .error").addClass("redColor");
                validCaptcha = false;
                $('#submit').prop('disabled',true);
            }
        });
    }
    function sendForm () {
        if (validForm && validCaptcha) {
            $('#submit').prop('disabled',false);
        } else {
            $('#submit').prop('disabled',true);
        }
    }
    (function(){

        emailjs.init("user_3rx516SfzoZ4KojMCBqdH");

        var myform = $("form#contact_form");
        $("#submit").click(function() {
            if (validForm && validCaptcha) {
                $('#submit').prop('disabled',false);
                $('.loading').show();
                return true;
            } else {
                $('#submit').prop('disabled',true);
                return false;
            }

          });
        myform.submit(function(event){
          event.preventDefault();
          var params = myform.serializeArray().reduce(function(obj, item) {
                obj[item.name] = item.value;
                return obj;
            }, {});
          // Change to your service ID, or keep using the default service
            var service_id = "gmail";
            var template_id = "yjsg";
            // myform.find("button").text("loading...");


            emailjs.send(service_id,template_id,params)
                    .then(function(){
                        window.location="thankyou.html";
                        myform.find("button").text("Send");
                    }, function(err) {
                        alert("Send email failed!\r\n Response:\n " + JSON.stringify(err));
                        myform.find("button").text("Send");
                    });
            return false;
        });
    })();
</script>
<script src="js/custom.js"></script>
<script>
  $(function () {
    $("#headerContent").load("header.html", function() {
      $('.liContact').addClass('active');
    });
  });
  $(function () {
    $("#footerContent").load("footer.html")

  });
</script>
</body>
</html>
