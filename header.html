
<section>
    <div id="nav-header"></div>
</section>

<script type="text/javascript">

  var renderNavWrapper = function(navWrapper) {
    $.each(navWrapper, function(key, value) {
      var htmlNavLink = "";
      $.each(value.dropdown1, function(key,desc){
        htmlRenderDropdown1 += "<li>"+desc+"</li>";
      });
      $.each(value.navbarNavLink, function(key,desc) {
        className = desc.class ? desc.class : '' ;
        htmlNavLink += "<li class=\""+className+"\"><a href=\""+desc.navHref+"\">"+desc.navLink+"</a>" +
          "</li>";
      });
      var htmlRender = "<nav class=\"navbar navbar-inverse navbar-fixed-top header-menu\">" +
        "<div class=\"container\">" +
        "<div class=\"navbar-header\">" +
        "<button type=\"button\" class=\"navbar-toggle\" data-toggle=\"collapse\" data-target=\"#myNavbar\">" +
        "<span class=\"icon-bar\"></span>" +
        "<span class=\"icon-bar\"></span>" +
        "<span class=\"icon-bar\"></span>" +
        "</button>" +
        "<a class=\"navbar-brand\" href=\"#\" active=\"\"><img src=\""+value.navLogoSrc+"\" alt=\"Logo-new\" /></a>" +
        "</div>" +
        "<div class=\"collapse navbar-collapse\" id=\"myNavbar\">" +
        "<ul class=\"nav navbar-nav navbar-right text-uppercase\">" +
        htmlNavLink +
        "</ul>" +
        "</div>" +
        "</div>" +
        "</nav>";
      $(htmlRender).appendTo("#nav-header");
      var currentPath = location.pathname;
      var currentPathSplit = currentPath.split("/");
      var currentPathSplit = currentPathSplit[2];
      console.log('ww', currentPathSplit)
      $('.nav li a').each(function(){
        var $this = $(this);
        if($this.attr('href').indexOf(currentPathSplit) !== -1 || $this.attr('href').indexOf(currentPath) !== -1){
          $(this).parent().addClass('active').siblings().removeClass('active');
        }
      });
    });
  };
var renderJOpage = function (data){
        renderNavWrapper(data.navigationWrapper);
    };
     var fetchConfigAndRender = function () {
          $.ajax({
            url: 'header.json',
            dataType: 'json',
            success: function( data ) {
              renderJOpage(data);
            },
            error: function( data ) {
              alert("ERROR: Not received JSON file  " + data );
              $("#error-wrapper").css("display","none");
              renderErrorPage();
            }
          });
        };
        fetchConfigAndRender();
</script>
